<!DOCTYPE html>
<html lang="en">

<!-- Header -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Michroma:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<!-- Body -->
<body class="bg-gray-900 text-gray-100 min-h-screen flex flex-col">
    <!-- Primary Topbar -->
    <header id="topbar" class="flex items-center justify-between p-3 bg-gray-800 shadow-xl border-b border-cyan-700/50">
        <div class="flex items-center space-x-6">
            <!-- Logo & Credits -->
            <a id="title" href="https://github.com/Karmatical/TextBlocks" target="_blank" class="cursor-pointer select-none inline-flex justify-center items-center">
                <span id="logo-icon" class="text-3xl font-bold tracking-wider gradient-text">TB</span>
                <div id="logo-detail" class="absolute flex flex-col items-center justify-center">
                    <span class="text-lg font-bold gradient-text">TextBlocks</span>
                    <span class="text-xs font-light mt-[-0.2rem] text-gray-400">by Karmatical</span>
                </div>
            </a>

            <!-- Settings -->
            <div class="relative inline-block text-left">
                <!-- Button -->
                <button onclick="toggleDropdown(event, 'settingsMenu')" class="flex items-center space-x-1 text-gray-300 hover:text-white transition duration-150 p-2 rounded-lg focus:outline-none">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjI3MjA2IDIuNjgzNzdDOC40MDgxOCAyLjI3NTQzIDguNzkwMzIgMiA5LjIyMDc1IDJIMTAuNzc5MkMxMS4yMDk3IDIgMTEuNTkxOCAyLjI3NTQzIDExLjcyNzkgMi42ODM3N0wxMi4zMjE5IDQuNDY1OEMxMi43OTE0IDQuNjYzIDEzLjIzMDQgNC45MTgxOCAxMy42MzAyIDUuMjIyMzhMMTUuNDcyMSA0Ljg0NTQ3QzE1Ljg5MzggNC43NTkxNyAxNi4zMjM0IDQuOTUyNCAxNi41Mzg2IDUuMzI1MTZMMTcuMzE3OCA2LjY3NDg1QzE3LjUzMyA3LjA0NzYxIDE3LjQ4NTYgNy41MTYyNyAxNy4yIDcuODM4MzJMMTUuOTUyOSA5LjI0NDY4QzE1Ljk4NCA5LjQ5MjA4IDE2IDkuNzQ0MTcgMTYgMTBDMTYgMTAuMjU1OCAxNS45ODQgMTAuNTA3OSAxNS45NTI5IDEwLjc1NTNMMTcuMiAxMi4xNjE3QzE3LjQ4NTYgMTIuNDgzNyAxNy41MzMgMTIuOTUyNCAxNy4zMTc4IDEzLjMyNTJMMTYuNTM4NiAxNC42NzQ4QzE2LjMyMzQgMTUuMDQ3NiAxNS44OTM4IDE1LjI0MDggMTUuNDcyMSAxNS4xNTQ1TDEzLjYzMDIgMTQuNzc3NkMxMy4yMzA0IDE1LjA4MTggMTIuNzkxNCAxNS4zMzcgMTIuMzIxOSAxNS41MzQyTDExLjcyNzkgMTcuMzE2MkMxMS41OTE4IDE3LjcyNDYgMTEuMjA5NyAxOCAxMC43NzkyIDE4SDkuMjIwNzVDOC43OTAzMiAxOCA4LjQwODE4IDE3LjcyNDYgOC4yNzIwNiAxNy4zMTYyTDcuNjc4MDUgMTUuNTM0MkM3LjIwODYyIDE1LjMzNyA2Ljc2OTU1IDE1LjA4MTggNi4zNjk4MiAxNC43Nzc2TDQuNTI3OTIgMTUuMTU0NUM0LjEwNjIzIDE1LjI0MDggMy42NzY2MyAxNS4wNDc2IDMuNDYxNDEgMTQuNjc0OEwyLjY4MjE3IDEzLjMyNTJDMi40NjY5NiAxMi45NTI0IDIuNTE0NDIgMTIuNDgzNyAyLjggMTIuMTYxN0w0LjA0NzA4IDEwLjc1NTNDNC4wMTYgMTAuNTA3OSAzLjk5OTk5IDEwLjI1NTggMy45OTk5OSAxMEMzLjk5OTk5IDkuNzQ0MTYgNC4wMTYgOS40OTIwNyA0LjA0NzA3IDkuMjQ0NjZMMi44IDcuODM4MzJDMi41MTQ0MiA3LjUxNjI3IDIuNDY2OTYgNy4wNDc2MSAyLjY4MjE3IDYuNjc0ODVMMy40NjE0MSA1LjMyNTE2QzMuNjc2NjMgNC45NTI0IDQuMTA2MjMgNC43NTkxNyA0LjUyNzkyIDQuODQ1NDdMNi4zNjk4IDUuMjIyMzhDNi43Njk1NCA0LjkxODE4IDcuMjA4NjEgNC42NjMgNy42NzgwNSA0LjQ2NThMOC4yNzIwNiAyLjY4Mzc3Wk05Ljk5OTk5IDhDOC44OTU0MiA4IDcuOTk5OTkgOC44OTU0MyA3Ljk5OTk5IDEwQzcuOTk5OTkgMTEuMTA0NiA4Ljg5NTQyIDEyIDkuOTk5OTkgMTJDMTEuMTA0NiAxMiAxMiAxMS4xMDQ2IDEyIDEwQzEyIDguODk1NDMgMTEuMTA0NiA4IDkuOTk5OTkgOFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=" alt="Settings" class="w-5 h-5"/>
                    <span>Settings</span>
                </button>
                <!-- Dropdown -->
                <div id="settingsMenu" class="absolute left-0 mt-2 w-48 rounded-lg shadow-2xl bg-gray-700 ring-1 ring-black ring-opacity-5 z-10 dropdown-menu">
                    <div class="py-1">
                        <!-- Language -->
                        <div class="relative">
                            <!-- Button -->
                            <button onclick="toggleDropdown(event, 'languageSubmenu')" class="flex items-center justify-between w-full px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">
                                Language
                                <span id="currentLanguageDisplay" class="text-xs text-gray-400">EN-US</span>
                            </button>

                            <!-- Dropdown -->
                            <div id="languageSubmenu" class="absolute left-full top-0 -ml-3 w-48 shadow-2xl bg-gray-700 ring-1 ring-black ring-opacity-5 dropdown-menu rounded-r-lg rounded-b-lg">
                                <a href="#" onclick="switchLanguage('en-US'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-600 transition duration-100">EN-US</a>
                                <a href="#" onclick="switchLanguage('pt-BR'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-600 transition duration-100">PT-BR</a>
                                <a href="#" onclick="showMessage('Loading external JSON not yet implemented.'); return false;" class="block px-4 py-2 text-sm text-gray-400 hover:bg-gray-600">[Load Language JSON]</a>
                            </div>
                        </div>

                        <!-- Color Theme -->
                        <div class="relative">
                            <!-- Button -->
                            <button onclick="toggleDropdown(event, 'themeSubmenu')" class="flex items-center justify-between w-full px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">
                                Color Theme
                                <span id="currentThemeDisplay" class="text-xs text-gray-400">Dark</span>
                            </button>

                            <!-- Dropdown -->                            
                            <div id="themeSubmenu" class="absolute left-full top-0 -ml-3 w-48 shadow-2xl bg-gray-700 ring-1 ring-black ring-opacity-5 dropdown-menu rounded-r-lg rounded-b-lg">
                                <a href="#" onclick="switchTheme('dark'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-600 transition duration-100">Dark</a>
                                <a href="#" onclick="switchTheme('light'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-600 transition duration-100">Light</a>
                                <a href="#" onclick="showMessage('Loading external JSON not yet implemented.'); return false;" class="block px-4 py-2 text-sm text-gray-400 hover:bg-gray-600">[Load Theme JSON]</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <!-- File -->
            <div class="relative inline-block text-left">
                <!-- Button -->
                <button onclick="toggleDropdown(event, 'fileMenu')" class="flex items-center space-x-1 text-gray-300 hover:text-white transition duration-150 p-2 rounded-lg focus:outline-none">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ljk4MTE2IDFIMTUuMDE5NkMxNi40MDQyIDEgMTcuNjE1OCAyLjIxMTU0IDE3LjYxNTggMy41OTYxNVYxMC44NjU0SDEzLjYzNUMxMS4zODUgMTAuODY1NCA5LjY1NDI0IDEyLjc2OTIgOS42NTQyNCAxNC44NDYyVjE4LjgyNjlINC45ODExNkMzLjU5NjU1IDE4LjgyNjkgMi4zODUwMSAxNy42MTU0IDIuMzg1MDEgMTYuMjMwOFYzLjU5NjE1QzIuMzg1MDEgMi4yMTE1NCAzLjU5NjU1IDEgNC45ODExNiAxWk02LjAxOTYzIDkuODI2OTJIOC43ODg4NkM5LjQ4MTE2IDkuODI2OTIgMTAuMDAwNCA5LjQ4MDc3IDEwLjAwMDQgOC43ODg0NkMxMC4wMDA0IDguMDk2MTUgOS40ODExNiA3Ljc1IDguOTYxOTMgNy43NUg2LjAxOTYzQzUuNTAwMzkgNy43NSA0Ljk4MTE2IDguMjY5MjMgNC45ODExNiA4Ljc4ODQ2QzQuOTgxMTYgOS4zMDc2OSA1LjUwMDM5IDkuODI2OTIgNi4wMTk2MyA5LjgyNjkyWk0xNC4xNTQyIDUuODQ2MTVINi4wMTk2M0M1LjMyNzMyIDUuODQ2MTUgNC45ODExNiA1LjMyNjkyIDQuOTgxMTYgNC44MDc2OUM0Ljk4MTE2IDQuMjg4NDYgNS41MDAzOSAzLjc2OTIzIDYuMDE5NjMgMy43NjkyM0gxNC4xNTQyQzE0LjY3MzUgMy43NjkyMyAxNS4xOTI3IDQuMjg4NDYgMTUuMTkyNyA0LjgwNzY5QzE1LjAxOTYgNS4zMjY5MiAxNC42NzM1IDUuODQ2MTUgMTQuMTU0MiA1Ljg0NjE1Wk0xNy40NDI3IDEyLjI1SDEzLjQ2MTlDMTIuMDc3MyAxMi4yNSAxMC44NjU4IDEzLjQ2MTUgMTAuODY1OCAxNS4wMTkyVjE5TDE3LjQ0MjcgMTIuMjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K" alt="File" class="w-5 h-5"/>
                    <span>File</span>
                </button>
                <!-- Dropdown -->
                <div id="fileMenu" class="absolute left-0 mt-2 w-48 rounded-lg shadow-2xl bg-gray-700 ring-1 ring-black ring-opacity-5 z-10 dropdown-menu">
                    <div class="py-1">
                        <!-- Project -->   
                        <a href="#" onclick="handleFileAction('New Project'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">New Project</a>
                        <a href="#" onclick="handleFileAction('Save Project'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Save Project</a> 
                        <a href="#" onclick="handleFileAction('Open Project'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Open Project</a>        
                        
                        <!-- Separator -->
                        <div class="border-t border-gray-600 my-1"></div>

                        <!-- SB3 -->   
                        <a href="#" onclick="handleFileAction('Import SB3'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Import SB3</a>
                        <a href="#" onclick="handleFileAction('Export SB3'); return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Export SB3</a>
                    </div>
                </div>
            </div>
    
            <!-- Edit -->
            <div class="relative inline-block text-left">
                <!-- Button -->
                <button onclick="toggleDropdown(event, 'editMenu')" class="flex items-center space-x-1 text-gray-300 hover:text-white transition duration-150 p-2 rounded-lg focus:outline-none">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjY0NDY5IDE0LjUwN0M5LjU1ODYxIDE0LjU5MzEgOS40NjE0NSAxNC42NDg0IDkuMzQ1MjUgMTQuNzAwOEw3LjM3ODczIDE1LjUyNjZDNy4zMDcyOCAxNS4yODMgNy4xMzAzNCAxNC45NzM0IDYuODAzMjkgMTQuNjQ2M0M2LjQ4NzIxIDE0LjMzMDIgNi4xODg1MyAxNC4xNjQzIDUuOTUzNzggMTQuMDgxOUw2Ljc2OTc1IDEyLjEyNTNDNi44MTIxNyAxMS45OTkxIDYuODg4MjggMTEuOTAzMSA2Ljk3MzQ3IDExLjgxNzlDNi45OTMzIDExLjgxOCA3LjAxMjEzIDExLjc5OTIgNy4wMjIgMTEuNzg5M0w3LjA0OTc5IDExLjc2MTVDNy4xODI1MSAxMS42Mjg4IDcuMzY4OTYgMTEuNTQ4IDcuNTg3NDMgMTEuNTE5QzguMTQyNzggMTEuNDUwMiA4Ljc4NjU2IDExLjcxMzggOS4yNzIxNSAxMi4xOTk0QzkuNzU3NzMgMTIuNjg1IDEwLjAyMTMgMTMuMzI4OCA5Ljk0MTU4IDEzLjg3MzFDOS45MDk1NSAxNC4wNTI3IDkuODUwNDEgMTQuMjM3NSA5Ljc1NzU3IDE0LjM3NDJDOS43Mjk4OCAxNC40MjE5IDkuNjkyMjIgMTQuNDU5NSA5LjY1MzY2IDE0LjQ5ODFMOS42NDQ2OSAxNC41MDdaTTEyLjg2ODYgNS45NDI3NEMxMy4xNzUyIDUuNjM2MDYgMTMuNjQ1OCA1LjU3MDM2IDE0LjEyNzQgNS43MTQ4NkMxNC40MDY2IDUuNzk4NTkgMTQuNTIzMiA2LjE0NDcgMTQuMzMyMiA2LjMzNTdMOS43NTE3OSAxMC45MTYxQzkuNjQyMzkgMTEuMDI1NSA5LjQ2NDg4IDExLjA0MzUgOS4zMjEyMiAxMC45NTE4QzkuMTcyNzcgMTAuODU5IDkuMDE5MzQgMTAuNzc5MSA4Ljg2NDczIDEwLjcxMjNDOC42MTI1MiAxMC42MDM2IDguNTI0ODkgMTAuMjg2NCA4LjcwMTU0IDEwLjEwOThMMTIuODY4NiA1Ljk0Mjc0Wk0xNS41Mjg4IDguNjAyOTlMMTEuMzYyNyAxMi43NjkxQzExLjE4OTYgMTIuOTQyMiAxMC44NzEyIDEyLjg2NzcgMTAuNzY1NyAxMi42MjIzQzEwLjY5NzYgMTIuNDU5MSAxMC42MTI3IDEyLjMwMDcgMTAuNTE0OCAxMi4xNDcyQzEwLjQxODEgMTEuOTk2NyAxMC40NDIyIDExLjgwOTEgMTAuNTU2IDExLjY5NTJMMTUuMTI1NyA3LjEyNTZDMTUuMzE0OSA2LjkzNjM5IDE1LjY2MDkgNy4wNTEwNCAxNS43NDY1IDcuMzMwMzZDMTUuODk2IDcuODE3MDEgMTUuODM3MyA4LjI5NDUyIDE1LjUyODggOC42MDI5OVpNMTcuMzQ5NyA0LjEyMTgyQzE2LjE3ODEgMi45NTAyMyAxNC40ODgxIDIuNzM5NzkgMTMuNTc2MiAzLjY1MTc0TDYuMjIwNDQgMTEuMDA3NUM2LjA0MDIgMTEuMTg3NyA1Ljg4MDkgMTEuMzg4OSA1Ljc4NDQxIDExLjYzNDlMNC4yMzMxMiAxNS4zNTk5QzQuMDM4MDQgMTUuODMwMiA0LjE4OTA2IDE2LjQxNyA0LjYyMTggMTYuODQ5N0M1LjA1NDU0IDE3LjI4MjUgNS42NDEzNyAxNy40MzM1IDYuMTExNjUgMTcuMjM4NEw5LjgzNjYxIDE1LjY4NzFDMTAuMDgxNyAxNS41ODk2IDEwLjI4MjggMTUuNDMwMyAxMC40NjMxIDE1LjI1MDFMMTcuODE4OCA3Ljg5NDM4QzE4LjczMDggNi45ODI0MyAxOC41MjEzIDUuMjkzNDEgMTcuMzQ5NyA0LjEyMTgyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" alt="Edit" class="w-5 h-5"/>
                    <span>Edit</span>
                </button>   
                <!-- Dropdown -->
                <div id="editMenu" class="absolute left-0 mt-2 w-48 rounded-lg shadow-2xl bg-gray-700 ring-1 ring-black ring-opacity-5 z-10 dropdown-menu">
                    <div class="py-1">
                        <!-- Scratch Settings -->
                        <a href="#" onclick=""; return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Turn on Turbo</a>
                        <a href="#" onclick=""; return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Change Username</a>

                        <!-- Separator -->
                        <div class="border-t border-gray-600 my-1"></div>

                        <!-- Advanced -->      
                        <a href="#" onclick="showPopup('advanced')"; return false;" class="block px-4 py-2 text-sm text-gray-200 hover:bg-cyan-700 transition duration-100">Advanced</a>
                    </div>
                </div>
            </div>

            <!-- Addons -->
            <button id="addonsButton" onclick="showPopup('addonsModal');" class="flex items-center space-x-1 text-gray-300 hover:text-white transition duration-150 p-2 rounded-lg focus:outline-none">
                <img src="data:image/svg+xml;base64,PCEtLSBodHRwczovL2ZvbnRzLmdvb2dsZS5jb20vaWNvbnM/c2VsZWN0ZWQ9TWF0ZXJpYWwrU3ltYm9scytPdXRsaW5lZDpleHRlbnNpb246RklMTEAxO3dnaHRANDAwO0dSQURAMDtvcHN6QDI0Jmljb24ucXVlcnk9ZXh0ZW5zaW9uIC0tPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyMCI+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTM1Mi0xMjBIMjAwcS0zMyAwLTU2LjUtMjMuNVQxMjAtMjAwdi0xNTJxNDggMCA4NC0zMC41dDM2LTc3LjVxMC00Ny0zNi03Ny41VDEyMC01Njh2LTE1MnEwLTMzIDIzLjUtNTYuNVQyMDAtODAwaDE2MHEwLTQyIDI5LTcxdDcxLTI5cTQyIDAgNzEgMjl0MjkgNzFoMTYwcTMzIDAgNTYuNSAyMy41VDgwMC03MjB2MTYwcTQyIDAgNzEgMjl0MjkgNzFxMCA0Mi0yOSA3MXQtNzEgMjl2MTYwcTAgMzMtMjMuNSA1Ni41VDcyMC0xMjBINTY4cTAtNTAtMzEuNS04NVQ0NjAtMjQwcS00NSAwLTc2LjUgMzVUMzUyLTEyMFoiLz48L3N2Zz4=" alt="Addons" class="w-5 h-5"/>
                <span>Addons</span>
            </button>            

            <!-- Project Name & Details -->
            <div class="flex items-center flex-grow max-w-lg mx-8 space-x-3">
                <!-- Name -->
                <input 
                    id="projectNameInput"
                    type="text" 
                    placeholder="Untitled Project"
                    class="flex-grow bg-gray-700 border border-gray-600 text-white placeholder-gray-400 text-center rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition duration-150 text-base"
                />
                
                <!-- Details -->
                <button id="projectDetailsButton" onclick="showPopup('detailsModal');" class="bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-2 px-3 rounded-lg shadow-md transition duration-150">
                    Project details
                </button>
            </div>

            <!-- Debug -->
            <div class="flex items-center space-x-4">
                <button id="debugButton" onclick="showMessage('Debugging initiated!', true, 4000);" class="flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-150 transform hover:scale-105">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAyMSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwLjI0NDYgMTAuNDQzNEgxNy41Mjc2QzE3LjQ5MjkgOS40MDA0OSAxNy4zMjE3IDguNDAyOTcgMTcuMDM2NCA3LjQ4MDIyQzE3LjU0MSA3LjE4NjA2IDE4LjAwOTkgNi43OTkxMiAxOC40MTUzIDYuMzM2NzRDMTkuMjE0MiA1LjQyNTExIDE5Ljc3MzMgNS4xMjA5OCAxOS44Njg2IDMuNzUzNDNDMTkuODk2MyAzLjM0NTEyIDE5LjU4MiAyLjk5MiAxOS4xNjY0IDIuOTY0NjNDMTguNzUwOSAyLjkzNzQ4IDE4LjM5MTUgMy4yNDYzMiAxOC4zNjM2IDMuNjU0ODVDMTguMjkxOSA0LjY4NDE5IDE3Ljg3MzYgNC42ODY2IDE3LjI3NjIgNS4zNjgzN0MxNy4wMzYyIDUuNjQyMDYgMTYuNzY5IDUuODc4NTkgMTYuNDg1NSA2LjA3MTA2QzE1Ljg1MjUgNC43NTMxMyAxNC45NjUxIDQuNTY0OTIgMTMuOTExNiAzLjgxMDE3QzEzLjY4MjIgMy4wOTE2OCAxMy4yOTU0IDIuNDYyODcgMTIuODAwMiAxLjk4MTM1QzEyLjg0NTcgMS45MjE5NCAxMi44OTQyIDEuODYzODcgMTIuOTQ1OCAxLjgwNzM1QzEzLjMwOTkgMS40MDk1IDEzLjgyMjIgMS4wOTg2NSAxNC40MzI5IDAuOTc5NjExQzE0LjcwNTUgMC45MjczMjEgMTQuODgzNSAwLjY2NzY1MSAxNC44MzAzIDAuMzk5NzQ4QzE0Ljc3NzEgMC4xMzE4NDUgMTQuNTEyOCAtMC4wNDMwNDc3IDE0LjI0MDIgMC4wMDkyNDIyNUMxMy40MDE5IDAuMTcyNTY1IDEyLjY5ODUgMC41OTk3ODUgMTIuMTk4MyAxLjE0NjI3QzEyLjEyNzYgMS4yMjM0OCAxMi4wNjA4IDEuMzAzMzYgMTEuOTk4MyAxLjM4NTI1QzExLjUxODkgMS4xMjI2OCAxMC45ODQgMC45NzU2MDUgMTAuNDE5NSAwLjk3NTYwNUM5Ljg1NDk1IDAuOTc1NjA1IDkuMzIwMDcgMS4xMjI0NiA4Ljg0MDY4IDEuMzg1MjVDOC43NzgxOCAxLjMwMzM2IDguNzExMzcgMS4yMjM0OCA4LjY0MDcyIDEuMTQ2MjdDOC4xNDAyNiAwLjU5OTc4NSA3LjQzNjkgMC4xNzI3ODcgNi41OTg4IDAuMDA5NDY0NzZDNi4zMjYxNiAtMC4wNDI4MjUyIDYuMDYxODkgMC4xMzIwNjggNi4wMDg2NyAwLjM5OTk3MUM1Ljk1NTQ1IDAuNjY3ODczIDYuMTMzNDUgMC45Mjc1NDMgNi40MDYwOSAwLjk3OTgzM0M3LjAxNjgzIDEuMDk4ODggNy41MjkwNyAxLjQwOTcyIDcuODkzMiAxLjgwNzU3QzcuOTQ0ODMgMS44NjQwOSA3Ljk5MzI5IDEuOTIyMTcgOC4wMzg4MSAxLjk4MTU4QzcuNTA4MjMgMi40OTc1OCA3LjEwMjIxIDMuMTgyMjQgNi44ODA3NCAzLjk2NTQ4QzUuOTE3NjQgNC43MTIgNS4xMDQ2OCA0Ljg0MjM2IDQuNTEzODYgNi4wNzM1MUM0LjIyODk5IDUuODgwNTkgMy45NjA0MSA1LjY0MzQgMy43MTk0NyA1LjM2ODM3QzMuMTIyMDkgNC42ODY4MiAyLjcwMzgzIDQuNjg0NDEgMi42MzIwNSAzLjY1NDg1QzIuNjA0NDIgMy4yNDY1NSAyLjI0NTA0IDIuOTM3NDggMS44MjkyOCAyLjk2NDYzQzEuNDEzNzQgMi45OTE3NyAxLjA5OTIgMy4zNDQ5IDEuMTI2ODIgMy43NTM0M0MxLjIyMjE2IDUuMTIwOTggMS43ODEyNyA1LjQyNTExIDIuNTgwMTkgNi4zMzY3NEMyLjk4NjQ1IDYuODAwMjMgMy40NTcwMSA3LjE4ODA3IDMuOTYyOTEgNy40ODI2N0MzLjY3ODAzIDguNDA0NzUgMy41MDcwNiA5LjQwMTM4IDMuNDcyNDEgMTAuNDQzNEgwLjc1NTQ0M0MwLjMzODMxOSAxMC40NDM0IDAgMTAuNzc1OCAwIDExLjE4NTdDMCAxMS41OTU2IDAuMzM4MzE5IDExLjkyOCAwLjc1NTQ0MyAxMS45MjhIMy41MTYzNEMzLjU5OTQ1IDEyLjgyMDkgMy43ODMxIDEzLjY3NCA0LjA1MjM1IDE0LjQ2NzlDMy41NTEyMiAxNC43NjE3IDMuMDg1MTggMTUuMTQ2NiAyLjY4MjMyIDE1LjYwNjNDMS44ODM0IDE2LjUxNzkgMS4zMjQyOSAxNi44MjIxIDEuMjI4OTUgMTguMTg5NkMxLjIwMTMzIDE4LjU5NzkgMS41MTU2NCAxOC45NTEgMS45MzE0MSAxOC45Nzg0QzIuMzQ2OTUgMTkuMDA1NiAyLjcwNjMyIDE4LjY5NjcgMi43MzQxOCAxOC4yODg0QzIuODA1OTYgMTcuMjU5MSAzLjIyNDIyIDE3LjI1NjcgMy44MjE2IDE2LjU3NDlDNC4wNjkzNCAxNi4yOTIzIDQuMzQ2MDYgMTYuMDQ5NSA0LjYzOTc3IDE1Ljg1MzdDNS45MDAyIDE4LjI5NTYgOC4wNTQyMSAxOSAxMC41MDAxIDE5QzEyLjk0NiAxOSAxNC45MzQ1IDE4LjQxNjYgMTYuMjExNSAxNi4xMzFDMTYuMzY5NyAxNi4yNjUyIDE2LjUyMDggMTYuNDEzNiAxNi42NjIzIDE2LjU3NDlDMTcuMjU5NyAxNy4yNTY3IDE3LjY3OCAxNy4yNTg5IDE3Ljc0OTcgMTguMjg4NEMxNy43Nzc0IDE4LjY5NjcgMTguMTM2NyAxOS4wMDU4IDE4LjU1MjUgMTguOTc4NEMxOC45NjgxIDE4Ljk1MTMgMTkuMjgyNiAxOC41OTgxIDE5LjI1NDcgMTguMTg5NkMxOS4xNTk0IDE2LjgyMjEgMTguNjAwMyAxNi41MTc5IDE3LjgwMTQgMTUuNjA2M0MxNy41MTMzIDE1LjI3NzcgMTcuMTkyOSAxNC45ODczIDE2Ljg1MDUgMTQuNzQxMkMxNy4xNzMgMTMuODcxMiAxNy4zOTA4IDEyLjkyNDYgMTcuNDgzNyAxMS45MjgySDIwLjI0NDZDMjAuNjYxNyAxMS45MjgyIDIxIDExLjU5NTggMjEgMTEuMTg1OUMyMSAxMC43NzYgMjAuNjYxNyAxMC40NDM0IDIwLjI0NDYgMTAuNDQzNFpNMTEuMTYzNiAxNy4wNzUzQzEwLjkxOTMgMTcuMjg4NyAxMC42MzY3IDE3LjM5NTUgMTAuMzE2MiAxNy4zOTU1QzkuOTk1ODEgMTcuMzk1NSA5LjY5NTUzIDE3LjI5IDkuNDQ4NDcgMTcuMDc5M0M5LjIwMTE5IDE2Ljg2ODYgOS4wNzc3NyAxNi41NzM4IDkuMDc3NzcgMTYuMTk0NkM5LjA3Nzc3IDE1Ljg1ODQgOS4xOTcxMSAxNS41NzU2IDkuNDM2MjQgMTUuMzQ2QzkuNjc1MTUgMTUuMTE2NiA5Ljk2ODYzIDE1LjAwMTcgMTAuMzE2MiAxNS4wMDE3QzEwLjY2MzggMTUuMDAxNyAxMC45NDYyIDE1LjExNjYgMTEuMTc5OSAxNS4zNDZDMTEuNDEzNCAxNS41NzU2IDExLjUzMDIgMTUuODU4NCAxMS41MzAyIDE2LjE5NDZDMTEuNTMwMiAxNi41NjgyIDExLjQwOCAxNi44NjE5IDExLjE2MzYgMTcuMDc1M1pNMTQuMjA2OSA5LjY2MTcxQzE0LjAxOTQgMTAuMDAzMyAxMy43OTY4IDEwLjI5ODEgMTMuNTM4OSAxMC41NDY0QzEzLjI4MDcgMTAuNzk0NSAxMi44MTc4IDExLjIxMjQgMTIuMTQ5NiAxMS43OTk0QzExLjk2NDggMTEuOTY0OSAxMS44MTY3IDEyLjExMDQgMTEuNzA1NSAxMi4yMzU3QzExLjU5NDEgMTIuMzYxMiAxMS41MTEyIDEyLjQ3NTggMTEuNDU3MSAxMi41Nzk5QzExLjQwMjggMTIuNjg0MSAxMS4zNjA2IDEyLjc4OCAxMS4zMzA3IDEyLjg5MjFDMTEuMzAwOCAxMi45OTYzIDExLjI1NiAxMy4xNzkyIDExLjE5NjIgMTMuNDQwNkMxMS4wOTMgMTMuOTk1OCAxMC43Njk4IDE0LjI3MzIgMTAuMjI2NiAxNC4yNzMyQzkuOTQ0MTggMTQuMjczMiA5LjcwNjQgMTQuMTgyNSA5LjUxMzY5IDE0LjAwMTFDOS4zMjA3NSAxMy44MTk4IDkuMjI0NTEgMTMuNTUwMSA5LjIyNDUxIDEzLjE5MjVDOS4yMjQ1MSAxMi43NDQyIDkuMjk0OTQgMTIuMzU1OSA5LjQzNjQ3IDEyLjAyNzdDOS41Nzc1NSAxMS42OTk1IDkuNzY1MDUgMTEuNDExMyA5Ljk5ODc1IDExLjE2M0MxMC4yMzIyIDEwLjkxNDkgMTAuNTQ3MiAxMC42MjAxIDEwLjk0NCAxMC4yNzgzQzExLjI5MTYgOS45Nzk0NiAxMS41NDI3IDkuNzUzODMgMTEuNjk3NiA5LjYwMTg2QzExLjg1MjUgOS40NDk4OCAxMS45ODI3IDkuMjgwMzMgMTIuMDg4NyA5LjA5MzQyQzEyLjE5NDcgOC45MDY3NCAxMi4yNDc2IDguNzAzODEgMTIuMjQ3NiA4LjQ4NDg2QzEyLjI0NzYgOC4wNTc4NiAxMi4wODYgNy42OTc2MSAxMS43NjI4IDcuNDA0MTJDMTEuNDM5NyA3LjExMDYzIDExLjAyMjUgNi45NjM3NyAxMC41MTIxIDYuOTYzNzdDOS45MTQ1MSA2Ljk2Mzc3IDkuNDc0NTEgNy4xMTE5NyA5LjE5MjEzIDcuNDA4MTNDOC45MDk3NCA3LjcwNDI5IDguNjcwNjEgOC4xNDA2MyA4LjQ3NTE4IDguNzE3MTZDOC4yOTA0IDkuMzIwMzggNy45NDAwOCA5LjYyMTg4IDcuNDI0MjIgOS42MjE4OEM3LjExOTg3IDkuNjIxODggNi44NjMzIDkuNTE2NjQgNi42NTQyOCA5LjMwNTdDNi40NDUwNCA5LjA5NDk4IDYuMzQwNjUgOC44NjY2OCA2LjM0MDY1IDguNjIxMjVDNi4zNDA2NSA4LjM1NDkxIDYuMzg2ODQgOC4wODY3OCA2LjQ3ODEgNy44MTY4OEM2LjU1ODk1IDcuNzEzODYgNi42MTMwNyA3LjU4ODgxIDYuNjI5MzcgNy40NTA2M0M2LjY4OTM4IDcuMzI3NTggNi43NTg2OCA3LjIwNDA5IDYuODM3NDggNy4wODAxNUM3LjE2ODc4IDYuNTU5NyA3LjY1MjI2IDYuMTI4OTEgOC4yODc2OCA1Ljc4NzE0QzguOTIzMSA1LjQ0NTU4IDkuNjY0NzMgNS4yNzQ3IDEwLjUxMjEgNS4yNzQ3QzExLjI5OTcgNS4yNzQ3IDExLjk5NDkgNS40MTc1NSAxMi41OTggNS43MDMwM0MxMy4yMDA4IDUuOTg4NTEgMTMuNjY2NiA2LjM3NzAxIDEzLjk5NTQgNi44Njc4N0MxNC4zMjQgNy4zNTg5NSAxNC40ODg0IDcuODkyNTMgMTQuNDg4NCA4LjQ2OTA2QzE0LjQ4ODQgOC45MjI3NiAxNC4zOTQyIDkuMzIwMTYgMTQuMjA2OSA5LjY2MTcxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" alt="Debug" class="w-5 h-5"/>
                    <span>Debug</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Secondary Topbar -->
    <div id="secondary-toolbar" class="flex justify-between items-center px-4 py-2 bg-gray-800 border-b border-gray-700/50 shadow-inner">
        <!-- Left Section -->
        <div class="flex space-x-3">
            <!-- Undo -->
            <button onclick="" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Replace Text">
                <span class="toolbar-icon">Undo</span>
            </button>

            <!-- Redo -->
            <button onclick="" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Replace Text">
                <span class="toolbar-icon">Redo</span>
            </button>

            <!-- Replace -->
            <button onclick="showPopup('replaceModal');" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Replace Text">
                <span class="toolbar-icon">Replace</span>
            </button>

            <!-- Find -->
            <button onclick="showPopup('findModal');" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Find Text">
                <span class="toolbar-icon">Find</span>
            </button>

            <!-- Copy -->
            <button onclick="showMessage('Copy functionality triggered.');" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Copy Selected Text">
                <span class="toolbar-icon">Copy</span>
            </button>

            <!-- Paste -->
            <button onclick="showMessage('Paste functionality triggered.');" class="text-gray-300 hover:text-cyan-400 hover:bg-gray-700 p-2 rounded-lg transition duration-150" title="Paste Text">
                <span class="toolbar-icon">Paste</span>
            </button>
        </div>

        <!-- Right Section -->       
        <div class="flex items-center space-x-4">
           <!-- Code/Costume/Sounds Selection -->    
           <div id="actor-tabs" class="flex border border-gray-700 rounded-lg overflow-hidden text-sm">
                <button id="tab-code" onclick="switchTab('CODE')" class="px-4 py-1.5 font-semibold transition duration-150" style="background-color: #0891b2; color: #fff;">CODE</button>
                <button id="tab-costume" onclick="switchTab('COSTUME')" class="px-4 py-1.5 text-gray-400 hover:bg-gray-700 hover:text-gray-200 transition duration-150">COSTUME</button>
                <button id="tab-sounds" onclick="switchTab('SOUNDS')" class="px-4 py-1.5 text-gray-400 hover:bg-gray-700 hover:text-gray-200 transition duration-150">SOUNDS</button>
           </div>

           <!-- Separator -->    
           <div class="w-px h-6 bg-gray-600"></div>

           <!-- Green Flag/Pause/Stop Controls -->         
           <div id="run-controls" class="flex space-x-2">
                <!-- Green Flag -->   
                <button onclick="window.showMessage('Project running!');" class="hover:bg-green-700 text-white p-2 rounded-full shadow-lg transform hover:scale-110 transition duration-150" title="Iniciar Projeto">
                    <img src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNi42MyAxNy41Ij48ZGVmcz48c3R5bGU+LmNscy0xLC5jbHMtMntmaWxsOiM0Y2JmNTY7c3Ryb2tlOiM0NTk5M2Q7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30uY2xzLTJ7c3Ryb2tlLXdpZHRoOjEuNXB4O308L3N0eWxlPjwvZGVmcz48dGl0bGU+aWNvbi0tZ3JlZW4tZmxhZzwvdGl0bGU+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNLjc1LDJBNi40NCw2LjQ0LDAsMCwxLDguNDQsMmgwYTYuNDQsNi40NCwwLDAsMCw3LjY5LDBWMTIuNGE2LjQ0LDYuNDQsMCwwLDEtNy42OSwwaDBhNi40NCw2LjQ0LDAsMCwwLTcuNjksMCIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjAuNzUiIHkxPSIxNi43NSIgeDI9IjAuNzUiIHkyPSIwLjc1Ii8+PC9zdmc+" alt="Play" class="w-5 h-5"/>
                </button>

                <!-- Pause -->   
                <button onclick="showMessage('Project paused.');" class="hover:bg-yellow-700 text-white p-2 rounded-full shadow-lg transform hover:scale-110 transition duration-150" title="Pause Project">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTgiIHdpZHRoPSIxOCI+PHBhdGggZD0iTTIzMS40MjkgMTg4LjkyOVYxNzEuMDdoNC4yODV2MTcuODU4em0xMi4xNDIgMFYxNzEuMDdoNC4yODZ2MTcuODU4eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzMwOSAwIDAgLjk1NDI3IC0yMzguNTczIC0xNjIuNzY5KSIgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsPSIjZmZhZTAwIiBzdHJva2U9IiNkODk0MDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOm5vcm1hbCIvPjwvc3ZnPg==" alt="Pause" class="w-5 h-5"/>
                </button>

                <!-- Stop -->   
                <button onclick="showMessage('Project stopped.');" class="hover:bg-red-700 text-white p-2 rounded-full shadow-lg transform hover:scale-110 transition duration-150" title="Stop Project">
                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRUM1OTU5O3N0cm9rZTojQjg0ODQ4O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cjwvc3R5bGU+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iNC4zLDAuNSA5LjcsMC41IDEzLjUsNC4zIDEzLjUsOS43IDkuNywxMy41IDQuMywxMy41IDAuNSw5LjcgMC41LDQuMyAiLz4KPC9zdmc+Cg==" alt="Stop" class="w-5 h-5"/>
                </button>
           </div>

        </div>
    </div>

    <!-- Text Find Window -->
    <div id="findModal" class="modal-overlay fixed inset-0 flex items-center justify-center hidden">
        <div class="bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md border border-cyan-700">
            <h2 class="text-xl font-bold mb-4 text-cyan-400">Find Text</h2>
            <input type="text" placeholder="Enter text to find..." class="w-full bg-gray-700 border border-gray-600 text-white rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-cyan-500"/>
            <div class="mt-6 flex justify-end space-x-3">
                <button onclick="showMessage('Searching...', false); hidePopup('findModal');" class="bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-150">Find Next</button>
                <button onclick="hidePopup('findModal');" class="bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-150">Close</button>
            </div>
        </div>
    </div>

    <!-- Text Replace Window -->
    <div id="replaceModal" class="modal-overlay fixed inset-0 flex items-center justify-center hidden">
        <div class="bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-md border border-cyan-700">
            <h2 class="text-xl font-bold mb-4 text-cyan-400">Replace Text</h2>
            <input type="text" placeholder="Find..." class="w-full mb-3 bg-gray-700 border border-gray-600 text-white rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-cyan-500"/>
            <input type="text" placeholder="Replace with..." class="w-full bg-gray-700 border border-gray-600 text-white rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-cyan-500"/>
            <div class="mt-6 flex justify-end space-x-3">
                <button onclick="showMessage('Replace All functionality triggered.', false); hidePopup('replaceModal');" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-150">Replace All</button>
                <button onclick="showMessage('Searching and replacing...', false); hidePopup('replaceModal');" class="bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-150">Replace</button>
                <button onclick="hidePopup('replaceModal');" class="bg-gray-600 hover:bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-150">Close</button>
            </div>
        </div>
    </div>

    <!-- Bottom Screen Warning -->
    <div id="messageBox" class="fixed bottom-0 left-0 right-0 p-3 text-white text-center opacity-0 hidden"></div>

    <!-- Main JS -->
    <script src="js/index.js"></script>
</body>